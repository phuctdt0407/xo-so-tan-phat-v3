(function(){var n=baseAppPath+"/auth/views/";routes.auth={url:"/auth",abstract:!0,template:"<ui-view><\/ui-view>"};routes.auth.login={url:"/login",controller:"Auth.Signin as $vm",templateUrl:n+"signin.html"+versionTemplate,title:"Login",resolve:{auth:["$rootScope","authService","$state","$q",function(n,t,i,r){var u=r.defer();return n.checkHeader()&&t.getSession().then(function(n){n&&n.UserId>0&&i.go("root.home");u.resolve(n)}),u.resolve({}),u.promise}]}}})(),function(){app.controller("Auth.Signin",["$scope","$rootScope","authService","$state","notificationService",function(n,t,i,r,u){var f=this;const o=document.getElementById("signUp"),s=document.getElementById("signIn"),e=document.getElementById("container");o.addEventListener("click",()=>{e.classList.add("right-panel-active")});s.addEventListener("click",()=>{e.classList.remove("right-panel-active")});f.login=function(){if(n.fromLogin&&n.fromLogin.$valid){f.isSaving=!0;var e={Account:f.loginInfo.Account,Password:f.loginInfo.Password,MACAddress:"",IPAddress:""};i.login(e).then(function(n){n&&n.Id>0?(t.sessionInfo=n,setTimeout(function(){r.go("root.home");u.success(n.Message);f.isSaving=!1},2e3)):(f.isSaving=!1,u.error(n.Message));setLocalStorage("bearer",n.Token)})}};f.clickFg=function(){$("#signUp").click()};f.backLG=function(){$("#signIn").click()};f.FgPassword=function(n){var r={Time:moment().format("DD/MM/YYYY HH:mm"),SystemInfo:window.navigator.userAgent,Email:n};i.forgotPassword(r).then(function(n){console.log("res",n);n&&n.Id>0?(t.sessionInfo=n,u.success(n.Message),f.backLG(),setTimeout(function(){f.isSaving=!1;t.$apply(f.isSaving)},500)):(t.sessionInfo=n,u.error(n.Message))});f.isSaving=!0}}])}(),function(){app.service("authService",["baseService",function(n){var t=n.baseUrl+"/Auth";this.login=function(i){var r=t+"/Login";return n.postData(r,i)};this.sendMailChangePassword=function(i){var r=t+"/SendMailChangePassword";return n.postData(r,i)};this.getSession=function(){var i=t+"/GetSession";return n.getData(i)};this.getUserPermission=function(i){var r=t+"/GetUserPermission";return n.getData(r,i)};this.getFirstPageShow=function(i){var r=t+"/GetFirstPageShow";return n.getData(r,i)};this.changePassword=function(i){var r=t+"/ChangePassword";return n.postData(r,i)};this.forgotPassword=function(i){var r=t+"/ForgotPassword";return n.postData(r,i)};this.logout=function(){var i=t+"/Logout";return n.postData(i)}}])}();