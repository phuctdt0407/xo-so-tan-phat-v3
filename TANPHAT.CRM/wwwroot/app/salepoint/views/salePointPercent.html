<div class="col-xl-12 col-lg-12 col-sm-12  layout-spacing">
    <div class="container-fluid wh-bg mt-10">
        <div class="m-3 btn btn-primary float-r resizeSchedule" ng-click="$vm.openModalCreateInvestor()">Tạo quản lý </div>
        <div class="row mb-3">
            <div class="col-md-3 col-xs-6 col-lg-2 pt10">
                <label>Chọn điểm bán</label>
                <ui-select ng-model="$vm.salePointId" ng-change="$vm.filterBySalePoint($select.selected.Id)"
                           theme="select2" search-enabled="false">
                    <ui-select-match placeholder="Chọn điểm bán" allow-clear="false">{{$select.selected.Name}}</ui-select-match>
                    <ui-select-choices position="down" repeat="ele.Id as ele in $vm.listSalePoint">
                        {{ele.Name}}
                    </ui-select-choices>
                </ui-select>
            </div>
        </div>
        
        <div class="table-responsive resize-tb">
            <table class="table w100p table-wrapper-scroll-y my-custom-scrollbar">
                <thead class="theader text-center fix-scroll">
                    <tr class="flex flex-wrap ">
                        <th class="th-none first1-col-sticky">Điểm bán</th>
                        <th class="theader text-center">Tên quản lý</th>
                        <th class="theader text-center">Hệ số</th>
                        <th class="theader text-center">Cập nhật</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat-start="item in $vm.listData" style="display:none"></tr>
                    <tr ng-if="item.MainUserData.length>0" ng-repeat="ele in item.MainUserData">
                        <td rowspan="{{item.MainUserData.length}}" ng-if="$index==0" class="text-left">{{item.SalePointName}}</td>
                        <td class="text-left">{{ele.FullName}}</td>
                        <td class="text-right">{{ele.Percent*100}}%</td>
                        <td rowspan="{{item.MainUserData.length}}" ng-if="$index==0" class="text-center">
                            <i class="fa fa-edit fa-lg cursor" style="color: blue" ng-click="$vm.updatePercent(item)"></i>
                        </td>
                    </tr>
                    <tr ng-if="item.MainUserData.length == 0">
                        <td class="text-left">{{item.SalePointName}}</td>
                        <td colspan="2" class="text-center">Chưa có dữ liệu</td>
                        <!--<td class="text-right">{{ele.Percent}}</td>-->
                        <td class="text-center">
                            <i class="fa fa-edit fa-lg cursor" style="color: blue" ng-click="$vm.updatePercent(item)"></i>
                        </td>
                    </tr>
                    <tr ng-repeat-end style="display: none"></tr>
                    <tr ng-if="!$vm.listPercent || $vm.listPercent.length == 0">
                        <td colspan="99" class="text-center">Chưa có dữ liệu</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
